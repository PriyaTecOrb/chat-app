<!-- app/views/users/index.html.erb -->
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h2 class="mb-0">Users</h2>
    <%= form_with url: users_path, method: :get, class: "d-flex" do |f| %>
      <%= f.text_field :q, 
            value: params[:q], 
            placeholder: "Search users...",
            class: "form-control me-2" %>
      <%= f.submit "Search", class: "btn btn-outline-primary" %>
    <% end %>
  </div>
  
  <div class="list-group list-group-flush">
    <% @users.each do |user| %>
      <%= link_to user_path(user), class: "list-group-item list-group-item-action d-flex justify-content-between align-items-center" do %>
        <div>
          <h5 class="mb-1"><%= user.username %></h5>
          <small class="text-muted">
            <%= user.online? ? "Online" : "Last seen #{time_ago_in_words(user.last_seen_at)} ago" %>
          </small>
        </div>
        <span class="badge bg-primary rounded-pill">
          <i class="bi bi-chat"></i> Message
        </span>
      <% end %>
    <% end %>
  </div>
  
  <div class="card-footer">
    <%= paginate @users %>
  </div>
</div>